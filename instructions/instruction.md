Project Overview
RealityShift is a mobile application designed to empower users to transform their lives through a personalized, structured roadmap. Leveraging React Native and Expo, the app delivers daily exercises, AI-driven insights, and adaptive progress tracking to guide users toward their goals. The target audience includes individuals seeking self-improvement, habit formation, and mindset shifts. The app supports iOS and Android platforms.

Features
1. Onboarding with In-Depth Self-Assessment
2. Personalized Transformation Roadmap Generation
3. Daily Engagement Exercises
    * Guided Binaural Beats Session
    * Visualization or Affirmation Exercise
    * Prioritized Task Planner
    * Deep Work Session
    * Mindfulness Check-Ins
    * Journaling with AI-Powered Insights
    * Self-Reflection Exercise
4. Weekly Reflections and AI Feedback Sessions
5. Quarterly Progress Reports
6. AI-Powered Roadmap Adaptation
Requirements for Each Feature

1. Onboarding with In-Depth Self-Assessment
* Requirements:
    * Collect: currentHabits, improvementAreas, longTermGoals, engagementPrefs.
    * Submit via Supabase REST: POST /rest/v1/self_assessments with { user_id, responses }.
    * Use Supabase Auth for user_id.
* Dependencies: @supabase/supabase-js, Expo AsyncStorage.
2. Personalized Transformation Roadmap Generation
* Requirements:
    * Fetch roadmap: GET /rest/v1/roadmaps?user_id=eq.{userId}.
    * Store locally with roadmap_id.
* Dependencies: Supabase client, Redux.
3. Daily Engagement Exercises
* 3.1 Binaural Beats: POST /rest/v1/binaural_sessions → { session_id, user_id, completed }.
* 3.2 Visualization: POST /rest/v1/visualizations → { user_id, content, completed }.
* 3.3 Task Planner: GET /rest/v1/tasks?user_id=eq.{userId} and POST /rest/v1/tasks.
* 3.4 Deep Work: POST /rest/v1/deep_work_sessions → { user_id, task_id, duration }.
* 3.5 Mindfulness: POST /rest/v1/mindfulness_logs → { user_id, response }.
* 3.6 Journaling: POST /rest/v1/journal_entries → { user_id, content }; Insights via external AI (e.g., OpenAI).
* 3.7 Self-Reflection: POST /rest/v1/reflections → { user_id, emotions, stress_level, progress_notes }.
4. Weekly Reflections and AI Feedback
* Requirements: GET /rest/v1/weekly_progress?user_id=eq.{userId}.
5. Quarterly Progress Reports
* Requirements: GET /rest/v1/quarterly_progress?user_id=eq.{userId}.
6. AI-Powered Roadmap Adaptation
* Requirements: Update via PATCH /rest/v1/roadmaps?id=eq.{roadmapId}.

Data Models (Supabase Tables)
Supabase uses PostgreSQL, so we’ll define tables with SQL syntax. Each table has a primary key (id), and foreign keys link to auth.users for user_id.
users (Managed by Supabase Auth)
* id: uuid (PK, auto-generated by Supabase Auth)
* email: text (unique)
* name: text
self_assessments
* id: uuid (PK, default uuid_generate_v4())
* user_id: uuid (FK to auth.users.id)
* responses: jsonb (e.g., { "habits": ["sleep"], "goals": "focus" })
* created_at: timestamp (default now())
roadmaps
* id: uuid (PK, default uuid_generate_v4())
* user_id: uuid (FK to auth.users.id)
* goals: jsonb (e.g., [{ "goal_id": "g1", "description": "meditate", "timeline": "1 month" }])
* milestones: jsonb
* progress: jsonb (e.g., { "completed_goals": 2, "total_goals": 5 })
* updated_at: timestamp (default now())
binaural_sessions
* id: uuid (PK)
* user_id: uuid (FK)
* audio_url: text
* duration: integer
* purpose: text
* completed: boolean (default false)
journal_entries
* id: uuid (PK)
* user_id: uuid (FK)
* content: text
* insights: text (nullable, populated by AI)
* created_at: timestamp
tasks
* id: uuid (PK)
* user_id: uuid (FK)
* description: text
* priority: integer
* completed: boolean (default false)
progress_logs
* id: uuid (PK)
* user_id: uuid (FK)
* exercise_type: text (e.g., "binaural-beats")
* details: jsonb
* created_at: timestamp

API Contract (Supabase REST API)
Supabase provides a REST API for CRUD operations, automatically generated from your tables. Use @supabase/supabase-js for client-side integration.
Authentication (Supabase Auth)
* Sign Up: supabase.auth.signUp({ email, password })
    * Response: { user: { id, email }, session }
* Login: supabase.auth.signInWithPassword({ email, password })
    * Response: { user, session }
Self-Assessment
* POST /rest/v1/self_assessments
    * Headers: Authorization: Bearer <token>, apikey: <supabase_key>
    * Request: { user_id: string, responses: json }
    * Response: { id, user_id, responses }
Roadmap
* GET /rest/v1/roadmaps?user_id=eq.{userId}
    * Headers: Authorization: Bearer <token>, apikey: <supabase_key>
    * Response: { id, user_id, goals, milestones, progress }
* PATCH /rest/v1/roadmaps?id=eq.{id}
    * Request: { goals, milestones, progress }
    * Response: Updated row
Exercises
* POST /rest/v1/binaural_sessions
    * Request: { user_id, audio_url, duration, purpose, completed }
    * Response: { id, ... }
* POST /rest/v1/journal_entries
    * Request: { user_id, content }
    * Response: { id, user_id, content }
* GET /rest/v1/journal_entries?id=eq.{id}
    * Response: { id, user_id, content, insights }
Progress
* GET /rest/v1/weekly_progress?user_id=eq.{userId}
    * Response: Aggregated via PostgreSQL view or function.
* GET /rest/v1/quarterly_progress?user_id=eq.{userId}
    * Response: Aggregated data.

Additional Notes
* Tech Stack: React Native, Expo, Supabase (PostgreSQL, Auth, Storage), AWS S3 (audio), OpenAI (NLP).
* Supabase Setup:
    * Enable Row-Level Security (RLS) for all tables, e.g., user_id = auth.uid().
    * Use Supabase Storage for audio files (e.g., binaural_beats/{sessionId}.mp3).
    * Real-time: Subscribe to updates with supabase.from('roadmaps').on('UPDATE', ...) for adaptation.
* Dependencies: @supabase/supabase-js (install via npm).
* Non-Functional:
    * Offline: Cache with AsyncStorage, sync with Supabase on reconnect.
    * Security: Supabase Auth JWTs, RLS policies.

How to Build with Supabase
1. Setup Supabase: Create a project, define tables via SQL or UI, enable Auth and Storage.
2. Client Integration: Use @supabase/supabase-js in React Native with your Supabase URL and anon key.
3. Real-Time: Leverage Supabase subscriptions for roadmap updates or progress logs.
4. AI Logic: Offload insights (e.g., journaling) to an external API (OpenAI) and update Supabase tables.
